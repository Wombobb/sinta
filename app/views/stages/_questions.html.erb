<div class="accordion stages-list stages-list-bottom" id="accordionExample">
  <div class="accordion-item border-0">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseQuestion<%=stage.id%>" aria-expanded="false" aria-controls="collapseOne">
        Interview Questions
      </button>
    </h2>
    <div id="collapseQuestion<%=stage.id%>" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <div class="d-flex flex-row-reverse">
          <button type="button" class="btn btn-ghost" data-bs-toggle="modal" data-bs-target="#stageModal-<%= stage.id %>">
            <i class="fa-regular fa-square-plus fa-lg"></i>
          </button>
        </div>
        <% stage.questions.each do |question| %>
          <div class="border p-2">
            <%= question.description %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
  <div class="modal fade" id="stageModal-<%= stage.id %>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel"><%= stage.name %></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <%= simple_form_for([stage, @question]) do |f| %>
            <%= f.input :description, label: 'Question:' %>
            <div class="d-flex flex-row-reverse">
              <%= f.submit "Add Question", class: 'btn btn-green mt-2' %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
